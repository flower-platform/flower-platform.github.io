"use strict";(self.webpackChunksite=self.webpackChunksite||[]).push([[567],{876:(e,t,n)=>{n.d(t,{Zo:()=>d,kt:()=>h});var r=n(2784);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var l=r.createContext({}),c=function(e){var t=r.useContext(l),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},d=function(e){var t=c(e.components);return r.createElement(l.Provider,{value:t},e.children)},u={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},p=r.forwardRef((function(e,t){var n=e.components,a=e.mdxType,o=e.originalType,l=e.parentName,d=s(e,["components","mdxType","originalType","parentName"]),p=c(n),h=a,m=p["".concat(l,".").concat(h)]||p[h]||u[h]||o;return n?r.createElement(m,i(i({ref:t},d),{},{components:n})):r.createElement(m,i({ref:t},d))}));function h(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var o=n.length,i=new Array(o);i[0]=p;var s={};for(var l in t)hasOwnProperty.call(t,l)&&(s[l]=t[l]);s.originalType=e,s.mdxType="string"==typeof e?e:a,i[1]=s;for(var c=2;c<o;c++)i[c]=n[c];return r.createElement.apply(null,i)}return r.createElement.apply(null,n)}p.displayName="MDXCreateElement"},9088:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>l,contentTitle:()=>i,default:()=>u,frontMatter:()=>o,metadata:()=>s,toc:()=>c});var r=n(8427),a=(n(2784),n(876));const o={sidebar_position:30},i="Writing scenarios",s={unversionedId:"feature-book/writing-scenarios",id:"feature-book/writing-scenarios",title:"Writing scenarios",description:"We used extensively Cucumber, and what they call Behavior-Driven-Development (BDD). I guess that what we are trying to do, is to achieve the goals that they are evangelizing, but with less work and more lever on various tools.",source:"@site/docs/feature-book/writing-scenarios.md",sourceDirName:"feature-book",slug:"/feature-book/writing-scenarios",permalink:"/site/docs/feature-book/writing-scenarios",draft:!1,editUrl:"https://gitlab.xops-online.com/foundation/foundation-jhipster-gwt/-/blob/master/foundation-react/packages/site/docs/feature-book/writing-scenarios.md",tags:[],version:"current",sidebarPosition:30,frontMatter:{sidebar_position:30},sidebar:"tutorialSidebar",previous:{title:"Use cases",permalink:"/site/docs/feature-book/use-cases"},next:{title:"Tests Are Demo",permalink:"/site/docs/category/tests-are-demo"}},l={},c=[{value:"Shorthands",id:"shorthands",level:2},{value:"Difference to Cucumber",id:"difference-to-cucumber",level:2}],d={toc:c};function u(e){let{components:t,...n}=e;return(0,a.kt)("wrapper",(0,r.Z)({},d,n,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("h1",{id:"writing-scenarios"},"Writing scenarios"),(0,a.kt)("p",null,"We used extensively ",(0,a.kt)("a",{parentName:"p",href:"https://cucumber.io/"},"Cucumber"),", and what they call Behavior-Driven-Development (BDD). I guess that what we are trying to do, is to achieve the goals that they are evangelizing, but with less work and more lever on various tools. "),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js"},'// In BDD, a scenario is a sequence of such statements:\nGIVEN some existing context/state, WHEN I perform action ..., THEN we should have the result/state ...\n\n// Rule of thumb to decide between GIVEN and WHEN:\n// GIVEN -> the code for this step will prepare some data (via mocking\n// or via copy into BD), in order to recreate a state that happens in practice\n// WHEN -> the code for this step will simulate an user action\n// NOTE: In many cases we have only WHEN + THEN; or sometimes also GIVEN + THEN\nGIVEN a paid invoice, THEN a green sticker labeled "PAID" appears in the top right corner\nWHEN click on UP, THEN the Todo slides up\n\n// We may use AND\nWHEN click on Delete, AND click on "yes, I confirm", THEN ...\n// Purists will say that tests should be super small. But in practice sometimes it\'s \n// easier to understand "the big picture" with 1 longer test (w/o exagerating), \n// compared to having 2 or more smaller ones. \nWHEN click on Delete, THEN alert appears, AND WHEN click on "yes, I confirm", THEN ...\n')),(0,a.kt)("h2",{id:"shorthands"},"Shorthands"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js"},'// Shorthand for something like:\n// GIVEN a Todo w/ fields: name = "Buy bread", priority = "Urgent", index = "3",\n// WHEN the screen renders,\n// THEN the label for name = "Buy bread", priority = "Urgent" and colored in red, ...\n\n// We notice that it\'s awkward to use GIVEN, WHEN, THEN in this case. But this is a feature\n// which needs to be tested as well. Hence we introduce such new key words/shorthands.\n\n// It\'s subjective for what (and if at all!) we use RENDERER.\n// A RENDERER is usually linked to a model element (e.g. "bigger", like an entity/DB table, or \n// "smaller", like something used client side only). \nRENDERER for a Todo\n\n// Similar to RENDERER. But bigger. In fact so big that it takes an entire screen / route :)\n// Usually such scenarios have a drawing/wire frame attached. We shouldn\'t try to write in words\n// what is on the drawing. They will normally appear any way in the Tests Are Demo test.\nSCREEN for a dashboard of Todos\n\n// Similar to RENDERER, but each field can also be edited\nFORM for a Todo\n\n// Useful when our deliverable is a component and the user is a dev. The associated Tests Are Demo \n// test will show the various behaviors of this property. Often we talk about one or two WHEN/THENs.\n// But there are cases when there are more, and in various locations. E.g. WHEN render ..., WHEN create new ...,\n// GIVEN user has permission ..., WHEN ..., etc.\nPROPERTY showWeekends\n')),(0,a.kt)("admonition",{title:"Convention for uniformity and readability",type:"caution"},(0,a.kt)("p",{parentName:"admonition"},"Please respect the casing (e.g. ",(0,a.kt)("inlineCode",{parentName:"p"},"WHEN")," and not ",(0,a.kt)("inlineCode",{parentName:"p"},"When")," or ",(0,a.kt)("inlineCode",{parentName:"p"},"when"),"), and the comma (",(0,a.kt)("inlineCode",{parentName:"p"},","),") before the key words (e.g. ",(0,a.kt)("inlineCode",{parentName:"p"},"... something, THEN something else"),").")),(0,a.kt)("h2",{id:"difference-to-cucumber"},"Difference to Cucumber"),(0,a.kt)("p",null,"We still have hundreds of Cucumber files. Some examples:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},'Feature: \n  Scenario: editContact(): Navigation to form\n    Given the renderer is given a Contact with id = 2\n    When the user clicks the edit contact button\n    Then navigation is attempted to "/properties_form/{id}" with id = "2"\n')),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"Feature: \n  Scenario: onReveal(): Get all contacts\n    Given the DB contains the contacts\n      | name  | age | married | city      |\n      | john  |  30 | true    | Bucuresti |\n      | mary  |  16 | false   | Brasov    |\n      | johan |  20 | false   | Bucuresti |\n    And a mocked, mirroring ContactSorterComponent\n    And a mocked, mirroring SearcherComponent \n    When ContactListPage is revealed\n    Then the list has ContactRenderers displaying the following names\n      | john | mary | johan |\n    And the telescopic invocations were OK for ContactSorter and Searcher components\n")),(0,a.kt)("p",null,"The disadvantage is that there is a ",(0,a.kt)("strong",{parentName:"p"},"lot of text"),". And often it's copied/pasted between scenarios/steps w/ small modifications. The ",(0,a.kt)("strong",{parentName:"p"},"attention span")," of the reader is consumed after a couple of scenarios. And if there are errors hidden in the text, they are super easy to miss. "),(0,a.kt)("p",null,"Feature Book offers a dual view: overview + detail. It splits a scenario in:"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"the overview = the scenario title;"),(0,a.kt)("li",{parentName:"ul"},"the detail = the Tests Are Demo test. ")),(0,a.kt)("p",null,"In other words:"),(0,a.kt)("table",null,(0,a.kt)("thead",{parentName:"table"},(0,a.kt)("tr",{parentName:"thead"},(0,a.kt)("th",{parentName:"tr",align:null}),(0,a.kt)("th",{parentName:"tr",align:null},"Feature Book"),(0,a.kt)("th",{parentName:"tr",align:null},"Cucumber"))),(0,a.kt)("tbody",{parentName:"table"},(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},"Size of a scenario"),(0,a.kt)("td",{parentName:"tr",align:null},"One line. We recommend not to overcome (maybe w/ exceptions) the width of a screen"),(0,a.kt)("td",{parentName:"tr",align:null},"Several / many lines")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},"How detailed?"),(0,a.kt)("td",{parentName:"tr",align:null},'We are not precise. We express in a general way; e.g. "WHEN we create a Todo"'),(0,a.kt)("td",{parentName:"tr",align:null},'We need to be specific, e.g. "WHEN we create a Todo w/ name = Buy bread, priority = Urgent, ..."')),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},"How exhaustive?"),(0,a.kt)("td",{parentName:"tr",align:null},"Our text doesn't cover all the details"),(0,a.kt)("td",{parentName:"tr",align:null},"Each scenario specifies/tests all the details")))))}u.isMDXComponent=!0}}]);