<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <base data-ice="baseUrl" href="../../../">
  <title data-ice="title">src/components/ItemRenderer.js | @crispico/react-timeline-10000</title>
  <link type="text/css" rel="stylesheet" href="css/style.css">
  <link type="text/css" rel="stylesheet" href="css/prettify-tomorrow.css">
  <script src="script/prettify/prettify.js"></script>
  <script src="script/manual.js"></script>
<link rel="stylesheet" href="./inject/css/0-esdoc.css"><meta name="description" content="Performance focused timeline for react"><meta property="twitter:card" content="summary"><meta property="twitter:title" content="@crispico/react-timeline-10000"><meta property="twitter:description" content="Performance focused timeline for react"></head>
<body class="layout-container" data-ice="rootContainer">

<header>
  <a href="./">Home</a>
  
  <a href="identifiers.html">Reference</a>
  <a href="source.html">Source</a>
  
  <div class="search-box">
  <span>
    <img src="./image/search.png">
    <span class="search-input-edge"></span><input class="search-input"><span class="search-input-edge"></span>
  </span>
    <ul class="search-result"></ul>
  </div>
</header>

<nav class="navigation" data-ice="nav"><div>
  <ul>
    
  <li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/timeline.js~Timeline.html">Timeline</a></span></span></li>
<li data-ice="doc"><a data-ice="dirPath" class="nav-dir-path" href="identifiers.html#components">components</a><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/components/ColumnRenderer.js~ColumnHeaderRenderer.html">ColumnHeaderRenderer</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/components/GroupRenderer.js~GroupRenderer.html">GroupRenderer</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/components/ItemRenderer.js~ItemRenderer.html">ItemRenderer</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/components/body.js~TimelineBody.html">TimelineBody</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/components/selector.js~SelectBox.html">SelectBox</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/components/timebar.js~Timebar.html">Timebar</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-Marker">Marker</a></span></span></li>
<li data-ice="doc"><a data-ice="dirPath" class="nav-dir-path" href="identifiers.html#consts">consts</a><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-timebarFormat">timebarFormat</a></span></span></li>
<li data-ice="doc"><a data-ice="dirPath" class="nav-dir-path" href="identifiers.html#stories">stories</a><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-encodeApiDocURIForSubpath">encodeApiDocURIForSubpath</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-parametersDocPage">parametersDocPage</a></span></span></li>
<li data-ice="doc"><a data-ice="dirPath" class="nav-dir-path" href="identifiers.html#utils">utils</a><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-intToPix">intToPix</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-pixToInt">pixToInt</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-sumStyle">sumStyle</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-getMaxOverlappingItems">getMaxOverlappingItems</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-getNearestRowNumber">getNearestRowNumber</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-getNearestRowObject">getNearestRowObject</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-getRowObjectRowNumber">getRowObjectRowNumber</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-getTrueBottom">getTrueBottom</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-getVerticalMarginBorder">getVerticalMarginBorder</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-rowLayerRenderer">rowLayerRenderer</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-convertDateToMoment">convertDateToMoment</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-convertMomentToDateType">convertMomentToDateType</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-getDurationFromPixels">getDurationFromPixels</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-getPixelAtTime">getPixelAtTime</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-getSnapPixelFromDelta">getSnapPixelFromDelta</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-getTimeAtPixel">getTimeAtPixel</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-pixelsPerMillisecond">pixelsPerMillisecond</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-timeSnap">timeSnap</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-external">E</span><span data-ice="name"><span><a href="http://momentjs.com/">moment</a></span></span></li>
</ul>
</div>
</nav>

<div class="content" data-ice="content"><h1 data-ice="title">src/components/ItemRenderer.js</h1>
<pre class="source-code line-number raw-source-code"><code class="prettyprint linenums" data-ice="content">import React from &apos;react&apos;;
import PropTypes from &apos;prop-types&apos;;
import Color from &apos;color&apos;;
import {Item} from &apos;../index&apos;;

const ITEM_RENDERER_CLS = &apos;rct9k-item-renderer&apos;;
const ITEM_RENDERER_GLOW_CLS = &apos;rct9k-item-glow&apos;;

/**
 * Item (segment) renderer. All the properties of an item are copied as properties of this component. Hence the component
 * doesn&apos;t use the property `item`.
 *
 * All the properties have corresponding getter methods. We &quot;OOP-ize&quot; them, for the case where a subclass wants to &quot;override&quot; a property.
 * Without this pattern, such an override is not doable in React.
 * @extends React.Component&lt;ItemRenderer.propTypes&gt;
 */
export default class ItemRenderer extends React.Component {
  static propTypes = {
    /**
     * It&apos;s passed by the parent. Though not used by this component. It exists because maybe subclasses want to use it.
     * @type { Item }
     */
    item: PropTypes.object,

    /**
     * The title (label) of the segment (item).
     * @type { string }
     */
    title: PropTypes.string,

    /**
     * Tooltip displayed on mouse over the segment (item).
     * @type { string }
     */
    tooltip: PropTypes.string,

    /**
     * The height of the segment (item).
     *
     * This property is received from the parent and its based on `itemHeight` from `Timeline`. The parent adds a padding
     * (@see rct9k-items-inner class) which must be subtracted from `itemHeight` resulting in `height`.
     *
     * NOTE: If you override the getter, the maximum `height` can be `itemHeight` minus the padding.
     * @type { string | number }
     */
    height: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),

    /**
     * Used to show a glow effect around the segment (item) when the mouse is moved over the segment (item).
     * @type { boolean }
     */
    glowOnHover: PropTypes.bool,

    /**
     * The renderer uses a **linear gradient** (top to bottom) as a background. The gradient is configured
     * using two colors: a base color (`color`) and the base color lightened by a percentage (`gradientBrightness`).
     * @type { string }
     */
    color: PropTypes.string,

    /**
     * A number between 0 and 100; it represents the percentage by which `color` is lightened to obtain the second color used in the gradient.
     * @type { number }
     * /
    gradientBrightness: PropTypes.number,

    /**
     * A number between 0 and 100 (percentage from the height of the item) and it represents the point where the first color stops in the gradient.
     * @type { number }
     */
    gradientStop: PropTypes.number,

    /**
     * Default order of the colors in the gradient: lighter color, base color.
     * If `true`, the order of the colors will be reversed.
     * @type { boolean }
     */
    gradientReverseDirection: PropTypes.bool,

    /**
     * The style of the segment used to render the segment (item).
     * @type { object }
     */
    style: PropTypes.object,

    /**
     * Class name used to render the segment (item).
     * @type { string }
     */
    className: PropTypes.string
  };

  static defaultProps = {
    color: &apos;#3791D4&apos;,
    glowOnHover: true,
    gradientBrightness: 45,
    gradientStop: 40,
    gradientReverseDirection: false,
    title: undefined,
    tooltip: undefined,
    className: undefined,
    style: {},
    item: {}
  };

  /**
   * Getter for the corresponding prop, to allow override by subclass.
   * @returns { string | JSX.Element }
   */
  getTitle() {
    return this.props.title;
  }

  /**
   * Getter for the corresponding prop, to allow override by subclass.
   * @returns { string }
   */
  getTooltip() {
    return this.props.tooltip;
  }

  /**
   * Getter for the corresponding prop, to allow override by subclass.
   * @returns { string | number }
   */
  getHeight() {
    return this.props.height;
  }

  /**
   * Getter for the corresponding prop, to allow override by subclass.
   * @returns { string }
   */
  getColor() {
    return this.props.color;
  }

  /**
   * Getter for the corresponding prop, to allow override by subclass.
   * @returns { number }
   */
  getGradientBrightness() {
    return this.props.gradientBrightness;
  }

  /**
   * Getter for the corresponding prop, to allow override by subclass.
   * @returns { number }
   */
  getGradientStop() {
    return this.props.gradientStop;
  }

  /**
   * Getter for the corresponding prop, to allow override by subclass.
   * @returns { boolean }
   */
  getGradientReverseDirection() {
    return this.props.gradientReverseDirection;
  }

  /**
   * Returns the color of the text. This method returns &apos;white&apos; when the background is darker,
   * otherwise returns black.
   * @returns {string}
   */
  getTextColor() {
    return Color(this.getColor()).light() ? &apos;black&apos; : &apos;white&apos;;
  }

  /**
   * Create a linear gradient using the base color (calls getColor()) and a color obtained adjusting
   * the brightness of that color using getGradientBrightness(). The default order of the colors is
   * [brighter gradient color, gradient color]; this order can be reversed if getGradientReverseDirection() is true.
   *
   * By default, the background of an item uses a linear gradient, this method should be overriden if this behaviour is not wanted.
   * @returns {string} linear gradient
   */
  getBackgroundGradient() {
    let colors = [
      Color(this.getColor())
        .lightness(this.getGradientBrightness())
        .hexString(),
      this.getColor()
    ];
    if (this.getGradientReverseDirection()) {
      colors.reverse();
    }

    return &apos;linear-gradient(&apos; + colors[0] + &apos; &apos; + this.getGradientStop() + &apos;%, &apos; + colors[1] + &apos;)&apos;;
  }

  /**
   * Returns the style of the item.
   * @returns { object }
   */
  getStyle() {
    return {
      ...this.props.style,
      color: this.getTextColor(),
      height: this.getHeight(),
      background: this.getBackgroundGradient()
    };
  }

  /**
   * Returns a css class used to apply glow on item hover.
   * @returns { string }
   */
  getGlowOnHoverClassName() {
    return this.props.glowOnHover ? ITEM_RENDERER_GLOW_CLS : &apos;&apos;;
  }

  /**
   * Returns the css classes applied on the item.
   * @returns { string }
   */
  getClassName() {
    return ITEM_RENDERER_CLS + &apos; &apos; + this.props.className + &apos; &apos; + this.getGlowOnHoverClassName();
  }

  render() {
    return (
      &lt;span className={this.getClassName()} style={this.getStyle()} title={this.getTooltip()}&gt;
        &lt;span className=&quot;rct9k-item-renderer-inner&quot;&gt;{this.getTitle()}&lt;/span&gt;
      &lt;/span&gt;
    );
  }
}
</code></pre>

</div>

<footer class="footer">
  Generated by <a href="https://esdoc.org">ESDoc<span data-ice="esdocVersion">(1.1.0)</span><img src="./image/esdoc-logo-mini-black.png"></a>
</footer>

<script src="script/search_index.js"></script>
<script src="script/search.js"></script>
<script src="script/pretty-print.js"></script>
<script src="script/inherited-summary.js"></script>
<script src="script/test-summary.js"></script>
<script src="script/inner-link.js"></script>
<script src="script/patch-for-local.js"></script>
</body>
</html>
