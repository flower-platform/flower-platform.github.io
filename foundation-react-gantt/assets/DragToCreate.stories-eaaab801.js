import{j as u}from"./jsx-runtime-b3cc59b7.js";import{R as d,r as b}from"./shim-e439b993.js";import{C as J,D as j,B as ie,d as de,c as ce,T as ue}from"./timeline-f7939cca.js";import{s as U,a as me,d as Y}from"./sampleData-ca030df0.js";import{b as i,_ as se}from"./inheritsLoose-b7013776.js";import{g as h,a as Z,_ as z,b as f,R as ge,c as Q,u as X,d as m,L as pe,i as _,e as he,f as ee}from"./Segment-1ca6e48e.js";import{m as K}from"./main-c36d81bb.js";import"./Scrollbar-5e9a6ca6.js";import"./iframe-d891a21f.js";import"../sb-preview/runtime.js";import"./util-fea827ce.js";import"./_commonjs-dynamic-modules-302442b1.js";import"./moment-e9e012b5.js";function C(e){var a=e.slider,n=e.toggle,r=e.type,t=h(C,e),s=!(a||n)||void 0;return d.createElement(J,i({},t,{type:r,radio:s,slider:a,toggle:n}))}C.handledProps=["slider","toggle","type"];C.propTypes={};C.defaultProps={type:"radio"};function k(e){return d.createElement(j,i({},e,{selection:!0}))}k.handledProps=["options"];k.propTypes={};k.Divider=j.Divider;k.Header=j.Header;k.Item=j.Item;k.Menu=j.Menu;var V=function(e){se(a,e);function a(){for(var r,t=arguments.length,s=new Array(t),o=0;o<t;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s))||this,r.ref=b.createRef(),r.focus=function(){return r.ref.current.focus()},r.handleChange=function(l){var c=Z(l,"target.value");z(r.props,"onChange",l,i({},r.props,{value:c}))},r.handleInput=function(l){var c=Z(l,"target.value");z(r.props,"onInput",l,i({},r.props,{value:c}))},r}var n=a.prototype;return n.render=function(){var t=this.props,s=t.rows,o=t.value,l=h(a,this.props),c=f(a,this.props);return d.createElement(ge,{innerRef:this.ref},d.createElement(c,i({},l,{onChange:this.handleChange,onInput:this.handleInput,rows:s,value:o})))},a}(b.Component);V.handledProps=["as","onChange","onInput","rows","value"];V.propTypes={};V.defaultProps={as:"textarea",rows:3};const fe=V;function p(e){var a=e.children,n=e.className,r=e.content,t=e.control,s=e.disabled,o=e.error,l=e.inline,c=e.label,v=e.required,E=e.type,D=e.width,T=e.id,y=Q(m(s,"disabled"),m(o,"error"),m(l,"inline"),m(v,"required"),X(D,"wide"),"field",n),A=h(p,e),x=f(p,e),F=Z(o,"pointing","above"),B=pe.create(o,{autoGenerateKey:!1,defaultProps:{prompt:!0,pointing:F,id:T?T+"-error-message":void 0,role:"alert","aria-atomic":!0}}),N=(F==="below"||F==="right")&&B,w=(F==="above"||F==="left")&&B;if(_(t))return _(c)?d.createElement(x,i({},A,{className:y,id:T}),he(a)?r:a):d.createElement(x,i({},A,{className:y,id:T}),N,ee(c,{autoGenerateKey:!1}),w);var le=T&&o?T+"-error-message":null,$={"aria-describedby":le,"aria-invalid":o?!0:void 0},O=i({},A,{content:r,children:a,disabled:s,required:v,type:E,id:T});return t==="input"&&(E==="checkbox"||E==="radio")?d.createElement(x,{className:y},d.createElement("label",null,N,b.createElement(t,i({},$,O))," ",c,w)):t===J||t===C?d.createElement(x,{className:y},N,b.createElement(t,i({},$,O,{label:c})),w):d.createElement(x,{className:y},ee(c,{defaultProps:{htmlFor:T},autoGenerateKey:!1}),N,b.createElement(t,i({},$,O)),w)}p.handledProps=["as","children","className","content","control","disabled","error","id","inline","label","required","type","width"];p.propTypes={};function M(e){var a=e.control,n=h(M,e),r=f(M,e);return d.createElement(r,i({},n,{control:a}))}M.handledProps=["as","control"];M.propTypes={};M.defaultProps={as:p,control:ie};function I(e){var a=e.control,n=h(I,e),r=f(I,e);return d.createElement(r,i({},n,{control:a}))}I.handledProps=["as","control"];I.propTypes={};I.defaultProps={as:p,control:J};function P(e){var a=e.control,n=h(P,e),r=f(P,e);return d.createElement(r,i({},n,{control:a}))}P.handledProps=["as","control"];P.propTypes={};P.defaultProps={as:p,control:j};function L(e){var a=e.children,n=e.className,r=e.grouped,t=e.inline,s=e.unstackable,o=e.widths,l=Q(m(r,"grouped"),m(t,"inline"),m(s,"unstackable"),X(o,null,!0),"fields",n),c=h(L,e),v=f(L,e);return d.createElement(v,i({},c,{className:l}),a)}L.handledProps=["as","children","className","grouped","inline","unstackable","widths"];L.propTypes={};function R(e){var a=e.control,n=h(R,e),r=f(R,e);return d.createElement(r,i({},n,{control:a}))}R.handledProps=["as","control"];R.propTypes={};R.defaultProps={as:p,control:de};function S(e){var a=e.control,n=h(S,e),r=f(S,e);return d.createElement(r,i({},n,{control:a}))}S.handledProps=["as","control"];S.propTypes={};S.defaultProps={as:p,control:C};function H(e){var a=e.control,n=e.options,r=h(H,e),t=f(H,e);return d.createElement(t,i({},r,{control:a,options:n}))}H.handledProps=["as","control","options"];H.propTypes={};H.defaultProps={as:p,control:k};function G(e){var a=e.control,n=h(G,e),r=f(G,e);return d.createElement(r,i({},n,{control:a}))}G.handledProps=["as","control"];G.propTypes={};G.defaultProps={as:p,control:fe};var g=function(e){se(a,e);function a(){for(var r,t=arguments.length,s=new Array(t),o=0;o<t;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s))||this,r.handleSubmit=function(l){var c=r.props.action;typeof c!="string"&&z(l,"preventDefault");for(var v=arguments.length,E=new Array(v>1?v-1:0),D=1;D<v;D++)E[D-1]=arguments[D];z.apply(void 0,[r.props,"onSubmit",l,r.props].concat(E))},r}var n=a.prototype;return n.render=function(){var t=this.props,s=t.action,o=t.children,l=t.className,c=t.error,v=t.inverted,E=t.loading,D=t.reply,T=t.size,y=t.success,A=t.unstackable,x=t.warning,F=t.widths,B=Q("ui",T,m(c,"error"),m(v,"inverted"),m(E,"loading"),m(D,"reply"),m(y,"success"),m(A,"unstackable"),m(x,"warning"),X(F,null,!0),"form",l),N=h(a,this.props),w=f(a,this.props);return d.createElement(w,i({},N,{action:s,className:B,onSubmit:this.handleSubmit}),o)},a}(b.Component);g.handledProps=["action","as","children","className","error","inverted","loading","onSubmit","reply","size","success","unstackable","warning","widths"];g.propTypes={};g.defaultProps={as:"form"};g.Field=p;g.Button=M;g.Checkbox=I;g.Dropdown=P;g.Group=L;g.Input=R;g.Radio=S;g.Select=H;g.TextArea=G;const q=g,re={whenClickMenuButton:"WHEN click on the menu button, THEN the menu opens",whenClickAddMenuEntry:"WHEN click on the 'Add (drag to create)' menu entry, THEN the Gantt goes into the 'drag to create mode'",givenDragToCreateModeWhenClickCancelFromMenu:"GIVEN drag to create mode, WHEN click on cancel (from the menu), THEN mode is cancelled",givenDragToCreateModeWhenClickCancelFromPopup:"GIVEN drag to create mode, WHEN click on cancel (from the popup), THEN mode is cancelled",givenDragToCreateModeWhenClickAndDrag:"GIVEN drag to create mode, WHEN click and drag, THEN a green selection rectangle appears",givenDragToCreateModeInProgressWhenRightClick:"GIVEN drag to create in progress, WHEN right click, THEN cancel",givenDragToCreateModeInProgressWhenMouseUp:"GIVEN drag to create in progress, WHEN mouse up, THEN handler is called"},Ie={title:"Features/Drag to create",includeStories:/^[A-Z]/},ae=ce("DragToCreateStory",{forceDragToCreateModeTrueRadio:"",forceDragToCreateModeFalseRadio:""}),W=()=>{let e=[...U,{id:4,title:"Andy"}];const[a,n]=b.useState(),[r,t]=b.useState([...me]),s=(o,{value:l})=>n(l);return u.jsxs(u.Fragment,{children:[u.jsxs(q,{size:"mini",children:[u.jsx(q.Field,{children:u.jsx(C,{label:"Default enable/disable drag to create mechanism (via 'Drag to create' context menu action)",name:"radioGroup",value:void 0,checked:a===void 0,onChange:s})}),u.jsx(q.Field,{children:u.jsx(C,{label:"forceDragToCreateMode = true (no 'Drag to create' action)",name:"radioGroup",value:"true",checked:a==="true",onChange:s,"data-testid":ae.forceDragToCreateModeTrueRadio})}),u.jsx(q.Field,{children:u.jsx(C,{label:"forceDragToCreateMode = false (no 'Drag to create' action)",name:"radioGroup",value:"false",checked:a==="false",onChange:s,"data-testid":ae.forceDragToCreateModeFalseRadio})})]}),u.jsx(ue,{startDate:Y("2018-09-20"),endDate:Y("2018-09-21"),groups:e,items:r,forceDragToCreateMode:a?a==="true":void 0,table:u.jsx(K.Table,{width:100,children:u.jsx(K.Column,{columnKey:"title",width:100,header:u.jsx(K.DataCell,{children:"Title"}),cell:({rowIndex:o})=>u.jsx(K.DataCell,{children:o<U.length?U[o].title:""})})}),onDragToCreateEnded:o=>{if(e[o.groupIndex]){const l={key:o.itemIndex,row:o.groupIndex,title:"Task "+e[o.groupIndex].title+o.itemIndex,start:o.itemStart,end:o.itemEnd||o.itemStart};t([...r,l])}}})]})};W.parameters={scenarios:Object.keys(re).map(e=>re[e])};var te,oe,ne;W.parameters={...W.parameters,docs:{...(te=W.parameters)==null?void 0:te.docs,source:{originalSource:`() => {
  let groups = [...someHumanResources, {
    id: 4,
    title: 'Andy'
  }];
  const [forceDragToCreateMode, setForceDragToCreateMode] = useState<undefined | string>();
  const [tasks, setTasks] = useState<Item[]>([...someTasks]);
  const handleRadioChange = (e, {
    value
  }) => setForceDragToCreateMode(value);
  return <>
            <Form size="mini">
                <Form.Field>
                    <Radio label="Default enable/disable drag to create mechanism (via 'Drag to create' context menu action)" name='radioGroup' value={undefined} checked={forceDragToCreateMode === undefined} onChange={handleRadioChange} />
                </Form.Field>
                <Form.Field>
                    <Radio label="forceDragToCreateMode = true (no 'Drag to create' action)" name='radioGroup' value='true' checked={forceDragToCreateMode === 'true'} onChange={handleRadioChange} data-testid={dragToCreateStoriesTestIds.forceDragToCreateModeTrueRadio} />
                </Form.Field>
                <Form.Field>
                    <Radio label="forceDragToCreateMode = false (no 'Drag to create' action)" name='radioGroup' value='false' checked={forceDragToCreateMode === 'false'} onChange={handleRadioChange} data-testid={dragToCreateStoriesTestIds.forceDragToCreateModeFalseRadio} />
                </Form.Field>
            </Form>
            <Timeline startDate={d('2018-09-20')} endDate={d('2018-09-21')} groups={groups} items={tasks} forceDragToCreateMode={forceDragToCreateMode ? forceDragToCreateMode === "true" : undefined} table={<Table width={100}>
                            <Column columnKey="title" width={100} header={<DataCell>Title</DataCell>} cell={({
        rowIndex
      }) => <DataCell>{rowIndex < someHumanResources.length ? someHumanResources[rowIndex].title : ""}</DataCell>} />
                        </Table>} onDragToCreateEnded={(param: DragToCreateParam) => {
      if (groups[param.groupIndex]) {
        const task = {
          key: param.itemIndex,
          row: param.groupIndex,
          title: 'Task ' + groups[param.groupIndex].title + param.itemIndex,
          start: param.itemStart,
          end: param.itemEnd || param.itemStart
        };
        setTasks([...tasks, task]);
      }
    }} />
        </>;
}`,...(ne=(oe=W.parameters)==null?void 0:oe.docs)==null?void 0:ne.source}}};const Pe=["dragToCreateStoriesTestIds","Main"];export{W as Main,Pe as __namedExportsOrder,Ie as default,ae as dragToCreateStoriesTestIds};
//# sourceMappingURL=DragToCreate.stories-eaaab801.js.map
