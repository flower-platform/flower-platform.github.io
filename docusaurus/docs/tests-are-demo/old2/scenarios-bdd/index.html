<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-tests-are-demo/old2/scenarios-bdd" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.0.0">
<title data-rh="true">Writing scenarios in &quot;BDD language&quot; | FamiProg/foundation</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://flower-platform.github.io/docusaurus/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://flower-platform.github.io/docusaurus/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://flower-platform.github.io/docusaurus/docs/tests-are-demo/old2/scenarios-bdd"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Writing scenarios in &quot;BDD language&quot; | FamiProg/foundation"><meta data-rh="true" name="description" content="GIVEN, WHEN, THEN, AND ..."><meta data-rh="true" property="og:description" content="GIVEN, WHEN, THEN, AND ..."><link data-rh="true" rel="icon" href="/docusaurus/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://flower-platform.github.io/docusaurus/docs/tests-are-demo/old2/scenarios-bdd"><link data-rh="true" rel="alternate" href="https://flower-platform.github.io/docusaurus/docs/tests-are-demo/old2/scenarios-bdd" hreflang="en"><link data-rh="true" rel="alternate" href="https://flower-platform.github.io/docusaurus/docs/tests-are-demo/old2/scenarios-bdd" hreflang="x-default"><link rel="stylesheet" href="/docusaurus/assets/css/styles.e9204787.css">
<script src="/docusaurus/assets/js/runtime~main.f7593d8f.js" defer="defer"></script>
<script src="/docusaurus/assets/js/main.3ea46ac6.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/docusaurus/"><div class="navbar__logo"><img src="/docusaurus/img/logo_flower_128x128.png" alt="My Site Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/docusaurus/img/logo_flower_128x128.png" alt="My Site Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">FamiProg/foundation</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docusaurus/docs/intro">Doc</a><a class="navbar__item navbar__link" href="/docusaurus/testsAreDemoRecordedTestsBrowser">TestsAreDemo &gt; Recorded tests browser</a></div><div class="navbar__items navbar__items--right"><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docusaurus/docs/intro">Intro</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docusaurus/docs/category/featurebook">Featurebook</a><button aria-label="Expand sidebar category &#x27;Featurebook&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" href="/docusaurus/docs/category/tests-are-demo">Tests Are Demo</a><button aria-label="Collapse sidebar category &#x27;Tests Are Demo&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docusaurus/docs/tests-are-demo/demo">Demo</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/docusaurus/docs/tests-are-demo/old/tutorial">old</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" tabindex="0" href="/docusaurus/docs/tests-are-demo/old2/scenarios-bdd">old2</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docusaurus/docs/tests-are-demo/old2/scenarios-bdd">Writing scenarios in &quot;BDD language&quot;</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docusaurus/docs/tests-are-demo/old2/Featurebook">Featurebook (beta)</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docusaurus/docs/tests-are-demo/old2/Todos and drafts">Todos and drafts</a></li></ul></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docusaurus/docs/tests-are-demo/pattern-tad-helper">Pattern: using ...TadHelper.java from TAD client tests</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docusaurus/docs/category/old-react-gantt">[old] React Gantt</a><button aria-label="Expand sidebar category &#x27;[old] React Gantt&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docusaurus/docs/foundation-react/ClientErrorLogger/">foundation-react</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docusaurus/docs/category/foundation-server">foundation-server</a><button aria-label="Expand sidebar category &#x27;foundation-server&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docusaurus/docs/scriptable-ui/">scriptable-ui</a></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="container"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/docusaurus/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/docusaurus/docs/category/tests-are-demo"><span itemprop="name">Tests Are Demo</span></a><meta itemprop="position" content="1"></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">old2</span><meta itemprop="position" content="2"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Writing scenarios in &quot;BDD language&quot;</span><meta itemprop="position" content="3"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1>Writing scenarios in &quot;BDD language&quot;</h1>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="given-when-then-and-">GIVEN, WHEN, THEN, AND ...<a href="#given-when-then-and-" class="hash-link" aria-label="Direct link to GIVEN, WHEN, THEN, AND ..." title="Direct link to GIVEN, WHEN, THEN, AND ...">​</a></h2>
<!-- -->
<!-- -->
<!-- -->
<p><a href="https://cucumber.io/" target="_blank" rel="noopener noreferrer">Cucumber</a> is a testing technology for Behavior-Driven-Development (BDD). We used it in the past extensively. We try to achieve many of the goals that they are evangelizing, but:</p>
<ul>
<li>with more lever tools,</li>
<li>with less work,</li>
<li>dual usage of the work that we do: for testing, for demo-ing.</li>
</ul>
<p>In BDD, we use the keywords: <code>GIVEN</code>, <code>WHEN</code>, <code>THEN</code>, <code>AND</code>. A scenario is a sequence of such statemens:</p>
<div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token constant" style="color:#36acaa">GIVEN</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">some existing context</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">state</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token constant" style="color:#36acaa">WHEN</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">some action is performed</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token constant" style="color:#36acaa">THEN</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">we should have the result</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">state</span><span class="token operator" style="color:#393A34">&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>A pseudocode example for TAD tests:</p>
<div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token doc-comment comment" style="color:#999988;font-style:italic">/**</span><br></span><span class="token-line" style="color:#393A34"><span class="token doc-comment comment" style="color:#999988;font-style:italic"> * ... THEN the screen containing the credit card form is shown</span><br></span><span class="token-line" style="color:#393A34"><span class="token doc-comment comment" style="color:#999988;font-style:italic"> * </span><br></span><span class="token-line" style="color:#393A34"><span class="token doc-comment comment" style="color:#999988;font-style:italic"> * Some more details ...</span><br></span><span class="token-line" style="color:#393A34"><span class="token doc-comment comment" style="color:#999988;font-style:italic"> */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">@</span><span class="token function maybe-class-name" style="color:#d73a49">Scenario</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;GIVEN a shopping cart w/ some articles, WHEN click on &#x27;Place order&#x27;, ...&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">whenClickBuy</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// GIVEN</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  manager</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">setCurrentCart</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token literal-property property" style="color:#36acaa">items</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> </span><span class="token literal-property property" style="color:#36acaa">id</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">123</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token literal-property property" style="color:#36acaa">label</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Bluetooth keyboard ...&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token literal-property property" style="color:#36acaa">price</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">46.99</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token spread operator" style="color:#393A34">...</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> </span><span class="token literal-property property" style="color:#36acaa">id</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">124</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token literal-property property" style="color:#36acaa">label</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Stereo computer speakers ...&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token literal-property property" style="color:#36acaa">price</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">23.49</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token spread operator" style="color:#393A34">...</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token spread operator" style="color:#393A34">...</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// WHEN</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  userEvent</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">click</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">screen</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">getByText</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;Place order&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// THEN</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token function" style="color:#d73a49">assertNotNull</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">screen</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">getByTest</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;Please enter your card number:&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token spread operator" style="color:#393A34">...</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Observe that the <strong>keywords</strong> are repeated in the code. They point to the scenario, so no need to copy/paste more. <br></p>
<div class="theme-admonition theme-admonition-caution admonition_xJq3 alert alert--warning"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>Convention for uniformity / consistency</div><div class="admonitionContent_BuS1"><p>For the scenario, please respect the casing (e.g. <code>WHEN</code> and not <code>When</code> or <code>when</code>), and the comma (<code>,</code>) + space before the key words (e.g. <code>... something, THEN something else</code>).<br>
Idem for the comments: stick to <code>// KEYWORD</code>. Avoid variations such as: <code>// keyword</code>, <code>// Keyword</code>, <code>//KEYWORD</code>, etc.</p></div></div>
<p>The blocks should contain:</p>
<table><thead><tr><th>GIVEN</th><th>WHEN</th><th>THEN</th></tr></thead><tbody><tr><td>Code that prepares some data (e.g. via mocking, hardcoding, copy into BD, etc.), in order to recreate a state that happens in practice</td><td>Code that simulates an (user) action. May be e.g. a direct function call, or a simulated user event for the browser&#x27;s DOM, etc.</td><td>The result is verified / assertions are made. The result can be retrieved in various ways, depending on situation. Either there is direct access to the result of the previous action (e.g. the result of the function call), or mocking techniques were used to record function calls/args, or we look somewhere for the data (in some var/data structure, in the DB, in the browser&#x27;s DOM, etc.).</td></tr></tbody></table>
<p>The Featurebook section of the TAD UI presents a synthetic view of all scenarios. E.g. the above scenario is rendered in the GUI like this:</p>
<div><h3 class="ui block top attached header">GIVEN a shopping cart w/ some articles, WHEN click on &#x27;Place order&#x27;, ...</h3><div class="ui attached segment"><p>... THEN the screen containing the credit card form is shown</p><p>Some more details ...</p></div><br></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="guidelines-to-write-nice-scenarios">Guidelines to write &quot;nice&quot; scenarios<a href="#guidelines-to-write-nice-scenarios" class="hash-link" aria-label="Direct link to Guidelines to write &quot;nice&quot; scenarios" title="Direct link to Guidelines to write &quot;nice&quot; scenarios">​</a></h2>
<p>Scenarios need to offer a balanced compromise between:</p>
<ul>
<li>being <strong>precise</strong>, i.e. express the behaviors exactly, w/ details and w/o omissions;</li>
<li>being <strong>not overwhelming</strong> / wall of text, i.e. <strong>reasonably</strong> readable/digestible by consumers.</li>
</ul>
<center><p><img loading="lazy" src="/docusaurus/assets/images/precision-vs-readability.drawio-8c8808218c06602fc1004b1e91f60b8b.svg" width="681" height="491" class="img_ev3q"></p></center>
<p>We observed that writing <strong>&quot;nice&quot;</strong> scenarios (i.e. w/ a good balance between the above conditions) can be challenging. Hence some guidelines.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="if-there-are-about-2-lines-of-text--split">If there are about 2 lines of text =&gt; split<a href="#if-there-are-about-2-lines-of-text--split" class="hash-link" aria-label="Direct link to If there are about 2 lines of text =&gt; split" title="Direct link to If there are about 2 lines of text =&gt; split">​</a></h3>
<div><h3 class="ui block top attached header">WHEN click (to edit) on an existing filter block, THEN the form opens, ...</h3><div class="ui attached segment"><p>... AND the components/form fields are populated w/ data from the filter.</p></div><br></div>
<div class="theme-admonition theme-admonition-tip admonition_xJq3 alert alert--success"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</div><div class="admonitionContent_BuS1"><p>The title should have a <strong>limited length</strong>. About 2 or 3 keywords/sentences. It should occupy about 50% - 75% of the title bar (when the page is full screen on a desktop screen). It shouldn&#x27;t render on 2 lines, even on smaller screens (e.g. laptop).</p><p>If we need <strong>about 2 lines</strong>, then we use <code>...</code>. The dots are saying to the reader: &quot;hey, there is more content if you want; if you don&#x27;t want, no problem&quot;.</p></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="if-there-is-a-long-text--bullets">If there is a long text =&gt; bullets<a href="#if-there-is-a-long-text--bullets" class="hash-link" aria-label="Direct link to If there is a long text =&gt; bullets" title="Direct link to If there is a long text =&gt; bullets">​</a></h3>
<div><h3 class="ui block top attached header">WHEN a field is selected from the dropdown, ...</h3><div class="ui attached segment"><ul>
<li>... THEN then all components are enabled,</li>
<li>AND Sort/None is checked,</li>
<li>AND the <code>Operator</code> dropdown is populated w/ the operators associated w/ the field type,</li>
<li>AND for the <code>Value</code> field a corresponding <code>FieldEditor</code> is instantiated,</li>
<li>AND focus is set on it.</li>
</ul></div><br></div>
<div class="theme-admonition theme-admonition-tip admonition_xJq3 alert alert--success"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</div><div class="admonitionContent_BuS1"><p>If there are several keywords/sentences =&gt; we use bullets.</p></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="consecutive-scenarios">Consecutive scenarios<a href="#consecutive-scenarios" class="hash-link" aria-label="Direct link to Consecutive scenarios" title="Direct link to Consecutive scenarios">​</a></h3>
<div><h3 class="ui block top attached header">WHEN click on &#x27;Add&#x27;, THEN the form opens, ...</h3><div class="ui attached segment">... (ommited)</div><br></div>
<div><h3 class="ui block top attached header">AND WHEN a field is selected from the dropdown, ...</h3><div class="ui attached segment">... (ommited)</div><br></div>
<div><h3 class="ui block top attached header">AND WHEN click on &#x27;Apply&#x27;, ...</h3><div class="ui attached segment"><ul>
<li>... THEN a (server side) validation is made,</li>
<li>AND WHEN the result is OK,</li>
<li>THEN the form closes,</li>
<li>AND the newly created filter appears.</li>
</ul></div><br></div>
<div class="theme-admonition theme-admonition-tip admonition_xJq3 alert alert--success"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</div><div class="admonitionContent_BuS1"><p>Notice how the scenario titles begin w/ <code>AND</code>. This means that they continue the previous scenario.</p><p>In the last scenario, we applied the technique from the previous paragraph (using bullets). Notice that we can mix <code>THEN</code>s (i.e. verification) w/ additional <code>WHEN</code>s (i.e. perform action).</p></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="details--comments-1">Details / Comments 1<a href="#details--comments-1" class="hash-link" aria-label="Direct link to Details / Comments 1" title="Direct link to Details / Comments 1">​</a></h3>
<div><h3 class="ui block top attached header">WHEN the user inputs values in field editors, THEN they are stored in the local state</h3><div class="ui attached segment"><p>In contrast w/ using the field editors in their natural environment (i.e. in a CRUD form that uses entity descriptors), here the &quot;on change&quot; callback is called right away. It&#x27;s up to the consumer of the lib to maintain a state.</p></div><br></div>
<div class="theme-admonition theme-admonition-tip admonition_xJq3 alert alert--success"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</div><div class="admonitionContent_BuS1"><p>Here the title is short. So we don&#x27;t use the &quot;details&quot; section to &quot;hide&quot; a long title. We use the &quot;details&quot; section to really provide ... additional details / comments.</p></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="details--comments-2">Details / Comments 2<a href="#details--comments-2" class="hash-link" aria-label="Direct link to Details / Comments 2" title="Direct link to Details / Comments 2">​</a></h3>
<div><h3 class="ui block top attached header">WHEN the user inputs values in field editors, THEN they are stored in the local state, ...</h3><div class="ui attached segment"><ul>
<li>... AND WHEN click on &quot;Save&quot;,</li>
<li>THEN they are provided to the callback.</li>
</ul><p>The consumer of this component receives the result only after the &quot;Save&quot; button is clicked. Until then, the intermediate values are stored in the local state.</p></div><br></div>
<div class="theme-admonition theme-admonition-tip admonition_xJq3 alert alert--success"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</div><div class="admonitionContent_BuS1"><p>Here we combine the 2 techniques. We extend the title (in other words we &quot;hide&quot; part of it) + provide comments.</p></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="details--comments-3">Details / Comments 3<a href="#details--comments-3" class="hash-link" aria-label="Direct link to Details / Comments 3" title="Direct link to Details / Comments 3">​</a></h3>
<div><h3 class="ui block top attached header">WHEN an unhandled error is caught, THEN it is sent to the server and logged</h3><div class="ui attached segment"><p>In the file: <code>logs/client-error.log</code> (cf. <code>logback-main.xml</code>) such errors look like this:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">2024-01-29 16:17:18,938 [      XNIO-1 task-54] ClientErrorLoggerController: user = admin; session = ERuRWsgJRxqc2YhbqHrLdRBKN_0LZgTdly9tEvMn; error = Error: Generated Error for test</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     at ClientErrorLoggerTestsAreDemo.generateError (http://localhost:3000/.../leave-management/leave-management-react/src/@crispico/foundation-react/clientErrorLogger/ClientErrorLoggerTestsAreDemo.ts:131:1) [return new Error(&quot;Generated Error for test&quot;);]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     at ClientErrorLoggerTestsAreDemo.whenCatchErrorThenLogIt (http://localhost:3000/.../leave-management/leave-management-react/src/@crispico/foundation-react/clientErrorLogger/ClientErrorLoggerTestsAreDemo.ts:54:1) [const error = this.generateError();]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     ...</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Such an use case may be useful in <strong>production</strong>. E.g.:</p><ul>
<li>Maybe some users have got errors that happen, but they don&#x27;t notice something wrong w/ the app =&gt; nobody complains.</li>
<li>Maybe the app enters in an unstable state, but a browser refresh fixes it =&gt; nobody complains.</li>
</ul></div><br></div>
<div class="theme-admonition theme-admonition-tip admonition_xJq3 alert alert--success"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</div><div class="admonitionContent_BuS1"><p>Here we provided a lot of details. Hence this comment is closer to doc style: uses formatting, is more verbose, etc.</p></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="render-test">RENDER TEST<a href="#render-test" class="hash-link" aria-label="Direct link to RENDER TEST" title="Direct link to RENDER TEST">​</a></h3>
<div><h3 class="ui block top attached header">RENDER TEST for a dashboard w/ Todos</h3><br></div>
<div class="theme-admonition theme-admonition-tip admonition_xJq3 alert alert--success"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</div><div class="admonitionContent_BuS1"><p>A primary feature of a GUI is to display data that is in the memory of the computer.</p><p>If we want to test this, we take the approach: 1/ we prepare some data; 2/ the program renders it in a screen; 3/ we verify that what&#x27;s in the screen corresponds to what we want.</p><p>The above, translated in &quot;BDD language&quot; might sound like:</p><ul>
<li>GIVEN a Todo w/ fields: name = &quot;Buy bread&quot;, priority = &quot;Urgent&quot;, index = &quot;3&quot;,</li>
<li>WHEN the screen renders,</li>
<li>THEN the label for name = &quot;Buy bread&quot;, priority = &quot;Urgent&quot; and colored in red, ...</li>
</ul><p>To make it shorter, we use <code>RENDER TEST</code>, which means the things above.</p><p>During dev, the communication between participants is probably complemented w/ some kind of drawing / wire frame.</p></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="hierarchic--tree-like-tests">Hierarchic / tree-like tests<a href="#hierarchic--tree-like-tests" class="hash-link" aria-label="Direct link to Hierarchic / tree-like tests" title="Direct link to Hierarchic / tree-like tests">​</a></h3>
<p>There are cases where the code has lots of (imbricated) ifs. Such a problem may be well represented using a tree. And the number of scenarios tends to be the cartesian product. E.g. <strong>w/ 2 levels</strong>:</p>
<ul>
<li>GIVEN version on the mobile device = 2.3,</li>
<li>AND the mobile device is connected to Internet,<!-- -->
<ul>
<li>AND version required by the server = 2.3 (i.e. exactly the same), WHEN app starts, THEN let the app run</li>
<li>AND version required by the server = 2.4, THEN download new version, AND THEN start the app</li>
</ul>
</li>
<li>AND the mobile device IS NOT connected to Internet,<!-- -->
<ul>
<li>AND version required by the server = 2.3, ...</li>
<li>AND version required by the server = 2.4, ...</li>
</ul>
</li>
</ul>
<p>For a case w/ <strong>only 1 level</strong>, we used:</p>
<div><h3 class="ui block top attached header">WHEN *multiple* errors are caught, AND the server is not accessible ...</h3><br></div>
<div><h3 class="ui block top attached header">... THEN all of them are queued AND sent later</h3><br></div>
<div><h3 class="ui block top attached header">... AND the queue is full, THEN new errors are rejected</h3><div class="ui attached segment"><p>I.e. we send the first errors and discard the last ones. The queue is a normal queue, not a circular one.</p><p>Actually this is a common use case for dev. W/o the queue &amp; limit, if the server is down, every server call would generate an error.
Including when trying to send errors, so say hello to an endless loop and an unresponsive browser.</p></div><br></div>
<div class="theme-admonition theme-admonition-warning admonition_xJq3 alert alert--warning"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>Note</div><div class="admonitionContent_BuS1"><p>For cases w/ 2+ levels: we don&#x27;t have a recipe yet. Please notify such cases so that we can find together a solution.</p></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="features-wo-tests">FEATURES W/O TESTS<a href="#features-wo-tests" class="hash-link" aria-label="Direct link to FEATURES W/O TESTS" title="Direct link to FEATURES W/O TESTS">​</a></h3>
<div><h3 class="ui block top attached header">FEATURES W/O TESTS</h3><div class="ui attached segment"><ul>
<li>The popup doesn&#x27;t close when click outside it.</li>
<li>The popup opens at the position of the cursor.</li>
<li>The popup closes at click on <code>X</code> button.</li>
</ul></div><br></div>
<div class="theme-admonition theme-admonition-tip admonition_xJq3 alert alert--success"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</div><div class="admonitionContent_BuS1"><p>There are cases where a feature has a small amount of code (sometimes even a line), but testing it would be a (tremendous) overkill. This example shows this well.</p><ul>
<li>Each one of the bullets translates into a property for the underlying <code>&lt;Modal&gt;</code>.</li>
<li>So the feature is not small, but it takes little code to use it (🙂👍thumbs up for component reusal; thank you <code>&lt;Modal&gt;</code> that you encapsulate features, so that we don&#x27;t have to implement them again).</li>
<li>And besides, the component that we use (<code>&lt;Modal&gt;</code>) has probably its own tests for e.g. &quot;WHEN click on the X button, THEN the modal disappears&quot;. We shouldn&#x27;t re-test something that&#x27;s not ours and is probably already tested.</li>
</ul><p>So that&#x27;s why <strong>we don&#x27;t write a test</strong>. However, these <strong>items are indeed features</strong>. And there is the ambition to have &quot;what is written in the scenarios&quot; == &quot;what is implemented in the code&quot;. Hence they need to be mentioned.</p><p>Note that the test function for scenario <code>FEATURES W/O TEST</code> is empty. So we practically use it here only as a tool for documentation.</p></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="comparing-with-cucumber">Comparing with Cucumber<a href="#comparing-with-cucumber" class="hash-link" aria-label="Direct link to Comparing with Cucumber" title="Direct link to Comparing with Cucumber">​</a></h2>
<p>We still have hundreds of Cucumber files. Some examples:</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">Feature: </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  Scenario: editContact(): Navigation to form</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Given the renderer is given a Contact with id = 2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    When the user clicks the edit contact button</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Then navigation is attempted to &quot;/properties_form/{id}&quot; with id = &quot;2&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">Feature: </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  Scenario: onReveal(): Get all contacts</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Given the DB contains the contacts</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      | name  | age | married | city      |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      | john  |  30 | true    | Bucuresti |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      | mary  |  16 | false   | Brasov    |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      | johan |  20 | false   | Bucuresti |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    And a mocked, mirroring ContactSorterComponent</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    And a mocked, mirroring SearcherComponent </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    When ContactListPage is revealed</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Then the list has ContactRenderers displaying the following names</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      | john | mary | johan |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    And the telescopic invocations were OK for ContactSorter and Searcher components</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>The disadvantage is that there is a <strong>lot of text</strong>. And often it&#x27;s copied/pasted between scenarios/steps w/ small modifications. The <strong>attention span</strong> of the reader is consumed after a couple of scenarios. And if there are errors hidden in the text, they are super easy to miss.</p>
<p>Tests Are Demo/Featurebook offers practically <strong>3 &quot;zoom levels&quot;</strong>. A scenario has:</p>
<ul>
<li>&quot;zoom level&quot; 1: the tile of the scenario</li>
<li>&quot;zoom level&quot; 2: + the description part, which contains: the title continued and/or some rough details</li>
<li>&quot;zoom level&quot; 3: the detail = the Tests Are Demo test / code.</li>
</ul>
<p>In other words:</p>
<table><thead><tr><th></th><th>Featurebook</th><th>Cucumber</th></tr></thead><tbody><tr><td>Size of a scenario</td><td>One line. OK, we cheat a bit by extending/&quot;hiding&quot; a portion of the line in the comments section</td><td>Several / many lines</td></tr><tr><td>How detailed?</td><td>We are not precise. We express in a general way; e.g. &quot;WHEN we create a Todo&quot;</td><td>We need to be specific, e.g. &quot;WHEN we create a Todo w/ name = Buy bread, priority = Urgent, ...&quot;</td></tr><tr><td>How exhaustive?</td><td>Our text doesn&#x27;t cover all the details</td><td>Each scenario specifies/tests all the details</td></tr></tbody></table></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://gitlab.xops-online.com/foundation/foundation-jhipster-gwt/-/blob/master/docusaurus/docs/tests-are-demo/old2/scenarios-bdd.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_vwxv"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/docusaurus/docs/tests-are-demo/old/older-doc-will-be-migrated"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">older-doc-will-be-migrated</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docusaurus/docs/tests-are-demo/old2/Featurebook"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Featurebook (beta)</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#given-when-then-and-" class="table-of-contents__link toc-highlight">GIVEN, WHEN, THEN, AND ...</a></li><li><a href="#guidelines-to-write-nice-scenarios" class="table-of-contents__link toc-highlight">Guidelines to write &quot;nice&quot; scenarios</a><ul><li><a href="#if-there-are-about-2-lines-of-text--split" class="table-of-contents__link toc-highlight">If there are about 2 lines of text =&gt; split</a></li><li><a href="#if-there-is-a-long-text--bullets" class="table-of-contents__link toc-highlight">If there is a long text =&gt; bullets</a></li><li><a href="#consecutive-scenarios" class="table-of-contents__link toc-highlight">Consecutive scenarios</a></li><li><a href="#details--comments-1" class="table-of-contents__link toc-highlight">Details / Comments 1</a></li><li><a href="#details--comments-2" class="table-of-contents__link toc-highlight">Details / Comments 2</a></li><li><a href="#details--comments-3" class="table-of-contents__link toc-highlight">Details / Comments 3</a></li><li><a href="#render-test" class="table-of-contents__link toc-highlight">RENDER TEST</a></li><li><a href="#hierarchic--tree-like-tests" class="table-of-contents__link toc-highlight">Hierarchic / tree-like tests</a></li><li><a href="#features-wo-tests" class="table-of-contents__link toc-highlight">FEATURES W/O TESTS</a></li></ul></li><li><a href="#comparing-with-cucumber" class="table-of-contents__link toc-highlight">Comparing with Cucumber</a></li></ul></div></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2025 FamiProg. Built with Docusaurus.</div></div></div></footer></div>
</body>
</html>